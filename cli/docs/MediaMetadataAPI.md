# Media Metadata APIs

Media Metadata APIs provide operations for reading, writing, and deleting media metadata cache files.

## POST /api/readMediaMetadata

Read media metadata from cache file. If the cache file does not exist, creates a new metadata object with file listing.

Request body:
```typescript
interface ReadMediaMetadataRequestBody {
  /**
   * Absolute path of media folder in platform-specific format
   */
  path: string;
}
```

Response body:
```typescript
interface ReadMediaMetadataResponseBody {
  data: MediaMetadata;
  /**
   * undefined - The request succeeded without error
   * Folder Not Found - The media folder not found
   * Media Metadata Not Found - The local cache file for media metadata not found
   */
  error?: string;
}
```

Status codes:
- `200`: The API called successfully, need to look at the ReadMediaMetadataResponseBody to see if request succeeded

## POST /api/writeMediaMetadata

Write media metadata to cache file.

Request body:
```typescript
interface WriteMediaMetadataRequestBody {
  data: MediaMetadata;
}
```

Response body:
```typescript
interface WriteMediaMetadataResponseBody {
  data: MediaMetadata;
}
```

Status codes:
- `200`: Metadata successfully written
- `400`: Invalid request (missing mediaFolderPath)
- `500`: Internal server error (failed to create directory or write file)

## POST /api/deleteMediaMetadata

Delete media metadata cache file.

Request body:
```typescript
interface DeleteMediaMetadataRequestBody {
  /**
   * Absolute path of media folder in platform-specific format
   */
  path: string;
}
```

Response body:
```typescript
interface DeleteMediaMetadataResponseBody {
}
```

Status codes:
- `200`: Metadata file successfully deleted
- `400`: Invalid request (missing path)
- `404`: Metadata file not found
- `500`: Internal server error (failed to delete file)

## Metadata Cache Location

All metadata cache files are stored in the `metadata` subdirectory of the user data directory. The cache file name is generated by replacing invalid filename characters in the folder path with underscores and appending `.json` extension.

